Важно: использование данного дистрибутива может быть только некоммерческим.
Important: using this distribution can be non-commercial only.

Этот дистрибутив может распространяться и использоваться в пределах стран СНГ. Вы можете распространять и использовать дистрибутив в других странах, но предварительно Вы должны убедиться, что Ваши законы позволяют использовать все пакеты этого дистрибутива командой:
rpm -qa
This distro is for distribution and using in Commonwealth of Independent States. You can distribute and use the distribution in other countries, but first you have to make sure that your laws allow you to use all packages from this distro by command:
rpm -qa

Пароль администратора: toor
Root password: toor
Пароль пользователя: magos
User password: magos

В Центре Управления -> Оборудование -> Настройка графического сервера нажмите кнопку Видеокарта, и Вам будет предложено использовать проприетарные драйвера для Вашей видеокарты, если они есть.
Это даст дополнительные графические возможности, без которых некоторые программы могут не работать или могут работать не совсем корректно.

Далее идёт краткое описание дистрибутива MagOS, что также справедливо для MagicOS и для EduMagic.

Установка.

MagOS не требует установщика, достаточно просто переписать файлы на носитель и установить загрузчик. Возможно установить MagOS на USB брелке, MMC карте, USB/SATA/IDE жёстких дисках, CD и DVD дисках. Поддерживаются как файловые системы Linux, так и fat32, ntfs.

Для установки нужно переписать 3 папки boot MagOS MagOS-Data в корень раздела жесткого диска или USB накопителя. Папка boot должна быть обязательно на загрузочном разделе (флешка, диск C, линуксовый загрузочный раздел) Папки MagOS и MagOS-Data могут быть скопированы в корень любого раздела, как вместе, так и на разные разделы. Если папка boot лежит не на том же разделе, что и MagOS, то необходимо раскомментировать (удалить символ # перед строкой) следующую строку загрузки MagOS, которая прописана в меню загрузчика (/boot/grub4dos/local/menu.lst): find –set-root –ignore-floppies –ignore-cd /MagOS/MagOS.sgn

Про установку загрузчика подробнее читайте ниже.
Cкрипты установки загрузчика нужно запускать под администратором.
В Висте или 7ке сначала запустите проводник или файловый менеджер под администратором, а потом из под него скрипт, тоже под администратором (запускается по правой кнопке мыши)
В Linux скрипты надёжнее всего запускать в консоли через команду bash имя_скрипта.sh.

I) Поддерживаемые загрузчиками файловые системы

    grub4dos: fat32, ntfs, ext2, ext3
    syslinux: fat32
    grub, grub2: почти все наиболее распространенные, включая ext4, reiserfs

II) Установка на флешку

    Распакуйте архив
    Скопируйте все файлы в корень флешки (регистр букв важен)
    Установите загрузчик, запустив один из скриптов с флешки(на выбор):
        Из под Linux:
            boot/grub4dos/install.lin/bootinst_mbr.sh
            boot/syslinux/install.lin/bootinst.sh
        Из под Windows:
            boot/grub4dos/install.win/bootinst.bat
            boot/syslinux/install.win/bootinst.bat

Не запускайте скрипты, если они лежат на винте, они меняют mbr устройства на котором лежат!

III) Создание live dvd

    Распакуйте архив
    Создайте образ одним из скриптов(на выбор):
        Из под Linux:
            boot/grub4dos/install.lin/make_iso.sh
            boot/syslinux/install.lin/make_iso.sh
        Из под Windows:
            boot/grub4dos/install.win/make_iso.bat
            boot/syslinux/install.win/make_iso.bat
    полученный файл запишите любой программой на носитель CD или DVD

IV) Установка на флешку или жесткий диск (в т.ч. съёмный жёсткий диск) в линуксе

Установка на флешку и жесткий диск одинакова в силу того, что в линуксе эти устройства распознаются одинаково (как блочные устройства с таблицей разделов).

Если вы не желаете менять уже установленный загрузчик,то можете скопировать на любой раздел только папку MagOS и MagOS-Data и настроить свой загрузчик самостоятельно.

Во время установки загрузчика на флешку или жёсткий диск, обратите внимание, что по умолчанию устройства подключаются с параметром noexec. Это сделает невозможным установку загрузчика скриптами. Поэтому перед установкой загрузчика рекомедуется подключить раздел вручную

Подробный пример установки на флешку:

    копируем папки boot, MagOS, MagOS-Data на флешку
    отключаем флешку
    переходим в консоль, получаем права root командой su -
    смотрим на каком устройстве флешка командой blkid (предположим /dev/sdb1)
    создаём временный каталог mkdir /mnt/tmp
    подключаем флешку mount /dev/sdb1 /mnt/tmp
    переходим в каталог cd /mnt/tmp/boot/grub4dos/install.lin
    запускаем скрипт ./bootinst_mbr.sh
    отключаем флешку umount /mnt/tmp

V) Установка магос копированием с fat/ntfs раздела на ext2/3 etc.

Мы не рекомендуем устанавливать MagOS на линуксовый раздел копированием уже установленной на fat/ntfs системы на раздел c ext3. Это связанно с тем, что файловые системы windows не поддерживают unix права для файлов и каталогов. Если у Вас есть такая возможность лучше распаковать архив с Magos сразу на ext3 раздел. Тем не менее такая установка тоже возможна, но потребует дополнительных действий. Все делаем загрузившись с флешки в magos, имя раздела (/dev/sda4) заменяем на свое. Подсмотреть можно в выводе команды: blkid |grep sd

1. Монтируем раздел

    su

Вводим пароль toor

    mkdir /mnt/tmp
    mount /dev/sda4 /mnt/tmp

2. Переносим каталоги MagOS, MagOS-Data, boot на нужный раздел.

    cp -R /mnt/livemedia/MagOS /mnt/tmp
    cp -R /mnt/livemedia/MagOS-Data /mnt/tmp
    cp -R /mnt/livemedia/boot /mnt/tmp

3. Даем права исполнения на скрипты устанавливающие загрузчик

    cd /mnt/tmp/boot/grub4dos/install.lin
    chmod -R +x *

4. Устанавливаем загрузчик

    ./bootinst_mbr.sh

5. Даем доступ пользователям к содержимому каталога MagOS-Data

    chmod -R 777 /mnt/tmp/MagOS-Data

6. Размонтируем раздел

    umount /mnt/tmp

7. Перегружаем и радуемся!!! -

VI) Установка на чистый жесткий диск с помощью загрузочного DVD

Для установки проще всего пользоваться созданным live DVD MagOS (см. пункт выше)

    Создать live DVD
    Загрузиться с помощью созданного live DVD
    Разметить жесткий диск на разделы (рекомендуется делать разметку согласно личным предпочтениям, т.к. для MagOS она не принципиальна. Например: один раздел под систему и один под данные, а также можно создать swap раздел). Для разметки можно использовать менеджер дисков в центре управления, а также специализированную программу Gparted. В качестве файловой системы для системного раздела рекомендуется использовать ext2/3.
    Скопировать директории MagOS MagOS-Data и boot из /mnt/liveloop на созданный и отформатированный раздел.
    Установить загрузчик grub4dos и если необходимо исправить menu.lst (см. выше, а также другие разделы Книга Знаний)

VII) Установка на жесткий диск в Windows

Рассматривается безопасный вариант установки, когда mbr и boot секторы дисков не изменяются, производится лишь настройка стандартного системного загрузчика. (Во время загрузки компьютера вам будет выдаваться запрос, какую систему следует загрузить).

    Распакуйте архив
    Скопируйте папку boot в корень любого раздела (в NT/2K/XP нужно использовать только C: )
    Настройте загрузчик одним из скриптов
        boot/grub4dos/install.win/add2ntldr.bat - для NT/2K/XP
        boot/grub4dos/install.win/add2vista.bat - для Висты/7
    Скопируйте папки MagOS и MagOS-Data на любой раздел
    Если папка MagOS расположена не на том же разделе, что и boot, то раскоментарьте строки find … в секциях MagOS файла \boot\grub4dos\local\menu.lst (надо убрать решётку)

VIII) Загрузка с USB на компьютерах не поддерживающих это

    Вам нужно изготовить образ загрузочного минидиска одним из скриптов(на выбор):
        Из под Linux:
            boot/grub4dos/install.lin/make_boot_iso.sh
            boot/syslinux/install.lin/make_boot_iso.sh
        Из под Windows:
            boot/grub4dos/install.win/make_boot_iso.bat
            boot/syslinux/install.win/make_boot_iso.bat
    Записать его на CD диск любой программой, например K3B или ImgBurn

Образ займёт около 20М.

IX) Как создать профиль

Необходимо выполнить команды в консоли.

Создать файл профиля необходимого размера:

dd if=/dev/zero of=Путь/ИмяПрофиля bs=1M count=2500  - создает заготовку профиля размером 2.5G (1M * 2500)

Отформатировать созданный профиль в необходимой файловой системе:

mkfs.ext3 Путь/ИмяПрофиля - создает профиль с файловой системой Ext3

X) Как увеличить размер профиля

Нужно загрузиться в чистом режиме без профиля и выполнить команды в консоли.

Получить права root:

su -l

Перейти в папку где лежат профили:

cd /mnt/livemedia/MagOS

Проверить профиль на ошибки (считаем что используется профиль MagOS_save1.img ):

e2fsck -f MagOS_save1.img

Расширить профиль:

resize2fs MagOS_save1.img 1000M

Вместо 1000M можно поставить размер в гигабайтах: 1G, 2G, 3.5G

XI) Создание динамически расширяющегося профиля

Очень часто при работе с MagOS на флешке необходимо более рационально экономить место занимаемое файлами профиля. Для этого можно воспользоваться хитростью и создать динамический профиль определенного максимального размера, но который на диске занимает место равное реально занятому пространству.

Создание динамического профиля (ntfs, ext{2,3,4}):

dd if=/dev/zero of=max_2G bs=1 count=1 seek=2G - создание динамического профиля 
максимального размера в 2Гб

tar -czSf max_2G.tar.gz max_2G - корректная архивация динамического профиля

На линуксовых файловых системах, поддерживающих работу с правами, вместо профиля может быть указана папка - это тоже один из вариантов динамического профиля.

Подробнее обо всём: http://www.magos-linux.ru/dwiki/doku.php

Обращаться можно на форум MagOS: http://www.magos-linux.ru/ и на форум Mageia Russian Community: http://forum.mageialinux.ru/
